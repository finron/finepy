{% macro input_csrf_token() -%}
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
{%- endmacro %}

{% macro render_pagination(pagination, endpoint) -%}
{% if pagination.pages > 1 %}
<nav>
  <ul class="pager">
    <li class="previous {{ pagination.has_prev | ternary('', 'disabled') }}">
      {% if pagination.has_prev %}
      <a href="{{ endpoint }}?page={{ pagination.pre_num }}">上一页</a>
      {% else %}
      <a href="javascript:;">上一页</a>
      {% endif %}
    </li>
    <li class="page-all">
      <div class="btn-group">
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
          {{ pagination.page }}
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          {% for page_num in range(1, pagination.pages + 1) %}
            <li><a href="{{ endpoint }}?page={{ page_num }}">{{ page_num }}</a></li>
          {% endfor %}
        </ul>
      </div>
    </li>
    <li class="next {{ pagination.has_next | ternary('', 'disabled') }}">
      {% if pagination.has_next %}
      <a href="{{ endpoint }}?page={{ pagination.next_num }}">下一页</a>
      {% else %}
      <a href="javascript:;">下一页</a>
      {% endif %}
    </li>
  </ul>
</nav>
{% endif %}
{%- endmacro %}
